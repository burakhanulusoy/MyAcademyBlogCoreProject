



<link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />

<div class="comment-form-wrap pt-5">
    <h3 class="mb-5">Yorum Yap</h3>

    <form asp-controller="Comments" asp-action="AddComment" method="post" class="p-5 bg-light">
        <input type="hidden" name="id" value="@ViewBag.BlogId" />

        <div class="form-group">
            <label>Adınız</label>
            <input class="form-control" type="text" placeholder="Adınız*" />
        </div>

        <div class="form-group">
            <label>Email Adresiniz</label>
            <input class="form-control" type="email" placeholder="Email*" />
        </div>

        <div class="form-group">
            <label for="message">Yorumunuz</label>
            <textarea name="text" id="message" cols="30" rows="10" class="form-control" required></textarea>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Yorumu Gönder</button>
        </div>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

<script>
    // Toastr Ayarları (Animasyonlar ve Süreler)
    toastr.options = {
        "closeButton": true,       // Kapat butonu olsun
        "debug": false,
        "newestOnTop": true,       // Yeni bildirim en üstte
        "progressBar": true,       // Süre çubuğu (altında akan çizgi)
        "positionClass": "toast-top-right", // SAĞ ÜST KÖŞE (İstersen toast-bottom-right yapabilirsin)
        "preventDuplicates": false,
        "onclick": null,
        "showDuration": "300",     // Görünme animasyon süresi
        "hideDuration": "1000",    // Kaybolma animasyon süresi
        "timeOut": "5000",         // Ekranda kalma süresi (5 saniye)
        "extendedTimeOut": "1000", // Mouse üzerine gelince ek süre
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",    // Efektli giriş
        "hideMethod": "fadeOut"    // Efektli çıkış
    };

    // --- ÖNEMLİ KISIM (TÜRKÇE KARAKTER SORUNU ÇÖZÜMÜ) ---
    // Html.Raw(...) kullanmazsan ş,ğ,ü gibi harfler bozuk çıkar.
    var errorMessage = '@Html.Raw(TempData["Error"])';
    var successMessage = '@Html.Raw(TempData["Success"])';

    // Mesaj boş değilse çalıştır
    if (errorMessage && errorMessage.trim() !== '') {
        toastr.error(errorMessage, 'Hata!');
    }

    if (successMessage && successMessage.trim() !== '') {
        toastr.success(successMessage, 'İşlem Başarılı');
    }
</script>